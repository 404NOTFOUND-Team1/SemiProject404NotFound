scenappsmPlayerCommand={PLAY_PAUSE:"playPause",PLAY:"play",PAUSE:"pause",SEEK:"seek",MUTED:"muted",VOLUME:"volume",COMPLETE:"complete",SHARE:"share",FULLSCREEN:"fullscreen",PICTURE_IN_PICTURE:"pictureInPicture",PLAYBACK_RATE:"playbackRate",PLAYBACK_RATE_SWITCH:"playbackRateSwitch",QUALITY:"quality",QUALITY_SWITCH:"qualityChange",RELATED_LIST:"relatedList",PLAYLIST:"playlist",PLAYLIST_ITEM:"playlistItem",PLAYLIST_ITEM_CHANGE:"playlistItemChange",CAPTION:"caption",CAPTION_CHANGE:"captionChange",ALERT_MESSAGE:"alertMessage",IN_LIVE:"inLive",FORWARD:"forward",BACKWARD:"backward",WECANDEO:"wecandeo"},scenappsmEvent={VIDEO_STOP:"idle",VIDEO_READY:"ready",VIDEO_PLAY:"play",VIDEO_PAUSE:"pause",VIDEO_BUFFERING:"buffer",VIDEO_COMPLETE:"complete",VIDEO_SEEK:"seek",VIDEO_SEEKED:"seeked",VIDEO_VOLUME:"volume",ERROR:"error",RESIZE:"resize",VIDEO_FULLSCREEN:"fullscreen",QUALITY_CHANGE:"qualityChange",QUALITY:"quality",CAPTION:"caption",CAPTION_CHANGE:"captionChange",PLAYLIST_ITEM:"playlistItem",RELATED_ITEM:"relatedItem",ALL_COMPLETE:"allComplete",LIVE_PlAYLIST_NOT_UPDATED:"livePlaylistNotUpdated",FULLSCREEN_CLICK:"fullscreenClick",STREAM_QUALITY:"streamQuality",STREAM_QUALITY_CHANGE:"streamQualityChange",VIDEO_PROGRESS:"videoProgress",VIDEO_TIME:"videoTime",VIDEO_RATE:"videoRate",VIDEO_LOAD:"videoLoad",VIDEO_STREAM:"videoStream",VIDEO_LAST_PLAY_TIME:"lastPlaytime",CONTROLS:"controls",CONTROLS_SEEK:"controlsSeek",CONTROLS_READY:"controlsReady",PLAYER_READY:"playerReady",PLAYLIST_READY:"playlistReady",TIME:"time",BUILDER_MOVE:"buildermove",BUILDER_OUT:"builderout",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_LEAVE:"mouseleave",MOUSE_POSITION:"mousePosition",DATA_READY:"dataReady",REMOVE:"remove",PLAYER_TYPE:"playerType",CUE_POINT_START:"cuePointstart",CUE_POINT_CLICK:"cuePointclick",CUE_POINT_UPDATE:"cuePointupdate",USER_WATERMARK:"userWatermark",FREE_PLAN:"freePlan"},scenappsmPlayerState={PLAYING:"playing",PAUSED:"pause",COMPLETE:"complete",STOP:"stop",IDLE:"idle",BUFFERING:"buffering",ERROR:"error"},scenappsmPlaylistEvent={ITEM_LOAD:"itemLoad",LIST_UPDATE:"listUpdate"},scenappsmConst={COMPONENT_READY:"componentReady",CURRENT_TIME:"position",DURATION:"duration",QUALITY:"quality",VOLUME:"smVolume",MUTED:"smMuted"},scenappsmAdEvent={AD_READY:"adReady",AD_PLAY:"adPlay",AD_COMPLETE:"adComplete",AD_ERROR:"adError",AD_CLICK:"adClick",AD_SKIP:"adSkip",AD_LOAD:"adLoad",AD_CLOSE:"adClose",AD_MIDROLL_READY:"adMidrollReady",QUALITY:"quality"},temporaryErrorMessage={en:"Cannot play due to a temporary problem.\nPlease try again after some time.",ko:"일시적인 문제로 재생할 수 없습니다.\n잠시 후 다시 이용해 주세요."},scenappsmMedia={WIDTH:480,HEIGHT:240},scenappsmPlayerType={A_TYPE:"aType",B_TYPE:"bType"},wecandeoPlayer=function(){var i,n,a,r,s,l,o,c,u,p,d=this,m="",E=null,t=0,h=0,f=location.protocol,y=!1,g="https://play.acs{TEST}.wecandeo.com",v="https://api{TEST}.wecandeo.com",C="https://play{TEST}.wecandeo.com",_="https://play.acs{TEST}.wecandeo.com",A="https://play.acs{TEST}.wecandeo.com/html/{VERSION}/player/src",L="https://play.acs{TEST}.wecandeo.com/html/libs",I=null,T=null,P=null,R=null,b=0,O=null,S=null,w=null,D=!1,k=!1,M=!1,N=!1,x=!1,V="/player/default/new_player/css",U="/player/default/new_default_{PACK}_0_0.css",Y="",F=null,H=null,B=null,K=null,q=null,W=null,Q=[{label:"0.5X"},{label:"0.75X"},{label:"1X",default:!0},{label:"1.25X"},{label:"1.5X"},{label:"2X"}],z=null,G=null,Z=null,X=!1,j=!1,J=[],ee=null,te=null,ne="",se=null,ie="",ae=null,e=null,re=null,le=null,oe=null,ce=null,ue=!1,pe=!1,de=null,me=!0,Ee=0,he=null,fe=!1,ye=0,ge=!1,ve="en";null!=navigator.language?ve=navigator.language:null!=navigator.userLanguage&&(ve=navigator.userLanguage);var Ce,ve="ko"==ve.toLowerCase().substr(0,2)?"ko":"en",_e=null;function Ae(){isNaN(r.getDuration())||on(scenappsmEvent.TIME,{position:r.getPosition(),duration:r.getDuration()})}function Le(e){var t;if("INPUT"!=(t=e.target).tagName&&"TEXTAREA"!=t.tagName)if(1!=M&&1!=N)if(0!=k){switch(e.keyCode){case 37:pe&&null!=ce?ce.prevFocus():"_volumeSlider"==document.activeElement.id?Ot(St()-10,!0):Nt();break;case 39:pe&&null!=ce?ce.nextFocus():"_volumeSlider"==document.activeElement.id?Ot(St()+10,!0):Mt();break;case 38:Ot(St()+10,!0);break;case 40:Ot(St()-10,!0);break;case 32:document.activeElement.tagName.match(/A|BUTTON|LI/)||e.target.tagName.match(/A|BUTTON|LI/)?e.target.className.indexOf("close")<0&&(de=e.target):(1==r.playing()?r.pause():r.play(),e.preventDefault());break;case 9:pe=!0;break;case 27:Te(e),B&&1==B.isShow()&&an();break;case 13:break;case 73:u.excute(scenappsmPlayerCommand.PICTURE_IN_PICTURE);break;case 77:u.excute(scenappsmPlayerCommand.MUTED,!Dt());break;case 70:u.excute(scenappsmPlayerCommand.FULLSCREEN,!X);break;case 83:e.shiftKey||an();break;case 67:G?0<G.getCurrentIndex()?(Ee=G.getCurrentIndex(),G.setCurrnetCaption(0)):(0<Ee?G.setCurrnetCaption(Ee):G.setCurrnetCaption(G.getDefaultIndex()),Ee=0):Be({message:Z.errorInfo.errorMessage});break;case 219:if(0==(n=nn(r.getPlaybackRate()))||"video"!=Qe())return;en(n=Math.max(--n,0));break;case 221:if((n=nn(r.getPlaybackRate()))==Q.length-1||"video"!=Qe())return;en(n=Math.min(++n,Q.length-1));break;case 80:tn(1);break;case 69:var n=Ft();(n=Math.min(++n,ze().quality.length-1))!=Ft()&&Vt(n);break;case 87:n=Ft();(n=Math.max(--n,0))!=Ft()&&Vt(n);break;case 81:(n=parseInt(Ht(ze().quality)))!=Ft()&&Vt(n);break;default:return!1}Pe({type:scenappsmEvent.MOUSE_MOVE})}else 32!=e.keyCode||document.activeElement.tagName.match(/A|BUTTON|LI/)||Lt();else 83==e.keyCode&&e.shiftKey&&M?ae.keyboardSkip():86==e.keyCode&&e.shiftKey&&M&&ae.keyboardClick()}function Ie(){de&&(de.focus(),pe||de.blur())}function Te(e){!he||fe||Xe()||he.hide(),null==ce||ue||(Xe()||ce.hide(),ce=null,Ie()),e&&e.target.className&&0<e.target.className.indexOf("close")&&Ie(),fe=ue=!1}function Pe(e){if(1!=M&&0!=k){switch(e.type){case scenappsm.eventDown:pe=!1,de&&de.blur(),scenappsm.addEventListener(window,scenappsm.eventMove,Pe);case scenappsm.eventMove:clearTimeout(Ce),Re(e),I.style.cursor="";break;case scenappsm.eventUp:scenappsm.removeEventListener(window,scenappsm.eventMove,Pe);break;case scenappsm.eventLeave:return void(Xe()||on(scenappsmEvent.MOUSE_LEAVE,e))}on(scenappsmEvent.MOUSE_MOVE,e)}}function Re(e){ce||(Ce=setTimeout(function(){!M&&k&&Pt()&&(I.style.cursor="none"),on(scenappsmEvent.MOUSE_OUT,e)},2e3))}function be(){try{this.blur()}catch(e){console.log("blur error")}this.removeEventListener("focus",be)}function Oe(e,t,n){require(e,t,n)}function Se(){null!=H?on(scenappsmEvent.ERROR,scenappsmError.SOURCE_LOAD_FAIL):scenappsm.temporaryErrorAlert(temporaryErrorMessage[ve])}window.addEventListener("resize",function(){setTimeout(function(){on(scenappsmEvent.RESIZE,{width:Xt(),height:Zt(),playerWidth:T?Fe(T,"width"):0,playerHeight:T?Fe(T,"height"):0,videoWidth:P?Fe(P,"width"):0,videoHeight:P?Fe(P,"height"):0})},100)}),window.addEventListener(scenappsm.eventDown,function(e){if(I.contains(e.target)&&(0!=e.clientX||0!=e.clientY||0!=e.screenX||0!=e.screenY)){try{document.activeElement.blur()}catch(e){console.log("blur error")}e.target.addEventListener("focus",be)}}),this.jsLoad=Oe;var we={_model:null,_container:null,_alertInfo:null,_alertText:null,init:function(e){this._model=e,this._model.registerObserver(this),this._container=scenappsm._elements.createElement("div",this._model.getCssReform("video-overlay alert")),this._container.tabIndex=0,this._container.setAttribute("role","alertdialog"),this._container.setAttribute("aria-labelledby",this._model.getCssReform("error-text")),this._container.setAttribute("aria-describedby",this._model.getCssReform("alert-text")),this._alertInfo=scenappsm._elements.createElement("div",this._model.getCssReform("alert-info")),this._alertIcon=scenappsm._elements.createElement("div",this._model.getCssReform("icon-alert-area icon-alert")),this._alertIcon.tabIndex=0,this._alertText=scenappsm._elements.createElement("div",this._model.getCssReform("alert-text")),this._alertText.id=this._model.getCssReform("alert-text"),this._errorText=document.createElement("div"),this._errorText.style.opacity=0,this._errorText.id=this._model.getCssReform("error-text"),this._errorText.innerHTML=ScenappsmAccessbility.error,this._alertInfo.appendChild(this._errorText),this._alertInfo.appendChild(this._alertIcon),this._alertInfo.appendChild(this._alertText),this._container.appendChild(this._alertInfo)},getContainer:function(){return this._container},setError:function(e){var t=this;document.addEventListener("focusin",function(e){e.target==t._alertIcon&&t._container.focus()}),this._container.style.opacity=0,this._container.style.display="block",this._alertText.innerHTML=e.message,this.validate()},reset:function(){null!=this._container&&(this._container.style.opacity=0,this._container.style.display="none")},update:function(e,t){switch(e){case scenappsmEvent.ERROR:null!=t&&this.setError(t);break;case scenappsmEvent.VIDEO_PLAY:this.reset()}},validate:function(){var e;"static"!=scenappsm._elements.getStyle(this._alertInfo).position&&0!=this._alertInfo.offsetWidth?(this._alertInfo.style.marginLeft=-.5*this._alertInfo.offsetWidth+"px",this._alertInfo.style.marginTop=-.5*this._alertInfo.offsetHeight+"px",this._container.style.opacity=""):(e=this,setTimeout(function(){e.validate()},100))}};function De(e){xe._container.contains(e.target)||xe._container.focus(),pe||xe._container.blur()}var ke,Me,Ne,xe={_model:null,_container:null,_txtField:null,_timeout:null,getContainer:function(){return this._container},init:function(e){this._model=e,this._container=scenappsm._elements.createElement("div",this._model.getCssReform("layer-overlay option-alert")),this._container.tabIndex=0,this._container.setAttribute("role","alertdialog"),this._container.setAttribute("aria-labelledby",this._model.getCssReform("player-alert-message")),this._txtField=scenappsm._elements.createElement("div",this._model.getCssReform("player-alert-message")),this._txtField.id=this._model.getCssReform("player-alert-message"),this._confirmBtn=scenappsm._elements.createElement("button",this._model.getCssReform("player_btn_style btn-defualt")),this._confirmBtn.innerHTML="확인",this._confirmBtn.ariaLabel=ScenappsmAccessbility.confirm;var t=this;scenappsm.addEventListener(this._confirmBtn,"click",function(){1==t._container.contains(t._confirmBtn)&&t._container.removeChild(t._confirmBtn),t.hide(),document.removeEventListener("focusin",De)}),this._container.appendChild(this._txtField)},setMessage:function(e,t){""!=e&&(this._txtField.innerHTML=e,this._container.style.display="block",this.show(t),this.validate())},show:function(e){var t;null!=this._timeout&&clearTimeout(this._timeout),1==e?(this._container.appendChild(this._confirmBtn),document.addEventListener("focusin",De)):(1==(t=this)._container.contains(this._confirmBtn)&&this._container.removeChild(this._confirmBtn),this._timeout=setTimeout(function(){t.hide()},2e3))},hide:function(){this._container.style.display="",this._txtField.innerHTML=""},validate:function(){var e;"static"!=scenappsm._elements.getStyle(this._container).position?(this._container.style.marginLeft=-.5*this._container.offsetWidth+"px",this._container.style.marginTop=-.5*this._container.offsetHeight+"px"):(e=this,setTimeout(function(){e.validate()},100))}};function Ve(e){Y=e.match(/[^\/]\w+\.css/)[0].replace(".css","")}function Ue(e){if(1==i.builder||""==Y)return e;for(var t=e.split(" "),n="",s=0;s<t.length;s++)""!=t[s]&&(n+=Y+"-"+t[s]+" ");return n}function Ye(e){return"number"==typeof e?e+"px":"string"==typeof e?0<=e.indexOf("%")||0<=e.indexOf("px")?e:e+"px":void 0}function Fe(e,t){return"width"==t?e.offsetWidth<e.clientWidth?e.clientWidth:e.offsetWidth:(t="height",e.offsetHeight<e.clientHeight?e.clientHeight:e.offsetHeight)}function He(){return ae=null==ae?{isAFV:function(){return!1},isPreRoll:function(){return 0},isOverlay:function(){return 0},isPostRoll:function(){return 0},isMidRoll:function(){return 0},isPause:function(){return 0},resize:function(){},stop:function(){},setVolume:function(){},destroy:function(){},isReady:function(){return!1}}:ae}function Be(e,t){xe.setMessage(e.message,t)}function Ke(){return i.key}function qe(){return i.playerKey}function We(){return i.playlistKey}function Qe(){return i.pack}function ze(){return i.source}function Ge(){var e=0;return null!=s&&(e+=s.getHeight()),null!=c&&(e+=parseInt(scenappsm._elements.getStyle(c.getContainer()).height.replace("px",""))),0==e?3:e}function Ze(){return""!=i.cacheDomain&&null!=i.cacheDomain?"/reqdata/"+i.cid:""}function Xe(){return E.isMobile()}function je(){return a.isVR()}function Je(){return a.isDVR()}function $e(){return 0==a.getSkipForwardInterval()?5:a.getSkipForwardInterval()}function et(e,t){var n=new Date;n.setDate(n.getDate()+1);var s=e;s+="http:"==f?"":"s",E.getBrowserName()!=E.CHROME?document.cookie=s+"="+escape(t)+"; path=/; expires="+n.toGMTString()+";":(80<=parseInt(E.getBrowserVersion())?document.cookie=s+"="+escape(t)+"; path=/; expires="+n.toGMTString()+"; SameSite=None; Secure":document.cookie=s+"="+escape(t)+"; path=/; expires="+n.toGMTString()+";",0==tt(e)&&console.log("reject cookie"))}function tt(e){var t=document.cookie;return e+="http:"==f?"":"s",e=new RegExp(e+"=([^;]*)"),null!=(e=t.match(e))&&unescape(e[1])}function nt(){var e;e=["utils/elements","utils/userAgent","notice","libs/css!commonCss","libs/css!"+_+Ze()+V+"/style.css","libs/css!"+_+Ze()+U],"function"!=typeof jQuery&&e.push("libs/jquery-1.8.1.min"),Oe(e,function(e,t){scenappsm._elements=e,1==(E=t).isMobile()&&(scenappsm.eventOver="touchstart",scenappsm.eventDown="touchstart",scenappsm.eventMove="touchmove",scenappsm.eventUp="touchend",scenappsm.eventOut="touchend",document.addEventListener("visibilitychange",st,!1),document.addEventListener("msvisibilitychange",st,!1),document.addEventListener("webkitvisibilitychange",st,!1)),Ve(U),it(),1==E.isAvailable(m)?(Gt(E.getPrimary()),Oe(["wecandeoData","ui/poster","ui/mainControls"],function(e,t,n){(a=new e(d)).setPlaylistOrder(i.plOrder),a.setPlaylistMaxResults(i.plMaxResults),a.setPlayerKey(qe()),R=new t(d),T.appendChild(R.getContainer()),_mainControls=new n(d),T.appendChild(_mainControls.getContainer()),We()?rt(We()):at(Ke())})):$t(E.getError())},Se)}function st(e){document.hidden||document.msHidden||document.webkitHidden?(It(),me=!1):(setTimeout(function(){me=!0},1e3),Pe({type:scenappsmEvent.MOUSE_MOVE}))}function it(){n=document.getElementById(i.targetID),(I=document.createElement("div")).className=Ue("wcd-player-container"),I.style.position="relative",I.style.overflow="hidden",I.style.outline="none",I.ariaLabel=ScenappsmAccessbility.video_player,scenappsm.addEventListener(window,"blur",Te),scenappsm.addEventListener(I,"blur",Te),scenappsm.addEventListener(I,"click",Te),n.style.width=1==ke?t+"px":t,n.style.height=1==ke?h+"px":h,n.appendChild(I),T=scenappsm._elements.createElement("div",Ue("wcd-player full-bgcolor"),"videoArea"),I.appendChild(T),we.init(d),T.appendChild(we.getContainer())}function at(t){we.reset(),He().destroy(),a.loadInfo(t,function(e){ee&&ee.setKey(t),lt(e,scenappsmEvent.VIDEO_READY)})}function rt(e){a.loadRelatedPlaylistInfo(e,function(e){lt(e,scenappsmEvent.VIDEO_READY)})}function lt(e,t){if(null!=e)return R&&R.setPoster({url:a.getSource().poster,alt:a.getSource().title}),_mainControls&&_mainControls.update(scenappsmEvent.ERROR),r&&1==r.playing()&&Tt(),"방송 시간이 아닙니다."==e||"It's not Broadcast time."==e?ot(e):(scenappsmError.API_ERROR.message=e,$t(scenappsmError.API_ERROR)),At(),0;i.source=a.getSource(),i.isAuth=a._isAuth,i.authToken=a._authToken,se=a.getRelatedFirstKey(),null==F&&(F=a.getCss()),0==D?1!=i.builder?0<=F.indexOf(".xml")||""==F?$t(scenappsmError.SKIN_LOAD_FAIL):1==i.builder?ut():(Ve(F),Oe(["libs/css!"+F],function(e){Oe(["libs/css!"+_+Ze()+V+"/style.css"],function(){setTimeout(function(){ut()},500)},function(){$t(scenappsmError.SKIN_LOAD_FAIL)})},function(){$t(scenappsmError.SKIN_LOAD_FAIL)})):ut():ft(t)}function ot(e){var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.className=Ue("live-overlay alert");var n=document.createElement("div");n.className=Ue("bg-transparency"),t.appendChild(n);var s=document.createElement("div");s.className=Ue("vo-alert-info alert-box"),n.appendChild(s),(n=document.createElement("span")).className=Ue("icon icon-alert"),s.appendChild(n),(n=document.createElement("span")).className=Ue("alert-text"),n.innerHTML=e,s.appendChild(n),T.appendChild(t)}function ct(e){var t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||null!=document.msFullscreenElement||r.getVideo().webkitDisplayingFullscreen;X=t,I.style.cursor=X?"none":"",At(),on(scenappsmEvent.VIDEO_FULLSCREEN,t),setTimeout(function(){on(scenappsmEvent.RESIZE,{width:Xt(),height:Zt(),playerWidth:T?Fe(T,"width"):0,playerHeight:T?Fe(T,"height"):0,videoWidth:P?Fe(P,"width"):0,videoHeight:P?Fe(P,"height"):0})},100)}function ut(){Oe(["event/subject","controller","utils/"+Qe()+"Statistics"],function(e,t,n){H=new e,u=new t(d),0!=i.isStatistics?(t=null!=Ke()?Ke():se,(ee=new n(d,t,y)).onReady(function(e){e?pt():scenappsm.temporaryErrorAlert(temporaryErrorMessage[ve])})):pt()},Se)}function pt(){if(ie=gt().format,m==E.HTML){if(0==E.availableFormat(ie))return $t(E.getError()),0;if(je()&&"m3u8"!=ie)return $t(scenappsmError.VR_FORMAT_NOT_SUPPORT),0}Gt(E.getPrimary()),null!=I&&function(){for(scenappsm.removeEventListener(window,"blur",Te),scenappsm.removeEventListener(I,"blur",Te),scenappsm.removeEventListener(I,"click",Te);I.firstChild;)I.removeChild(I.firstChild);for(;n.firstChild;)n.innerHTML=""}(),it(),I.style.display="none",0==(P=scenappsm._elements.createElement("div",Ue("video-container"))).contains(R.getContainer())&&P.appendChild(R.getContainer()),0==P.contains(_mainControls.getContainer())&&P.appendChild(_mainControls.getContainer()),_mainControls.setController(u),xe.init(d),T.appendChild(xe.getContainer()),_cover=scenappsm._elements.createElement("div",Ue("display-cover")),_cover.style.opacity=1,a.getViralLink()&&""!=a.getViralLink()&&scenappsm.addEventListener(_cover,"click",function(){""!=a.getViralLink()&&window.open(a.getViralLink())}),P.appendChild(_cover),scenappsm.addEventListener(document,"webkitfullscreenchange",ct),scenappsm.addEventListener(document,"mozfullscreenchange",ct),scenappsm.addEventListener(document,"fullscreenchange",ct),scenappsm.addEventListener(document,"MSFullscreenChange",ct),scenappsm.addEventListener(I,scenappsm.eventDown,Pe),scenappsm.addEventListener(I,scenappsm.eventMove,Pe),scenappsm.addEventListener(I,scenappsm.eventOut,Pe),scenappsm.addEventListener(I,scenappsm.eventLeave,Pe),scenappsm.addEventListener(window,scenappsm.eventUp,Pe),null==w&&(w=new Object),window.parent!=window&&Oe(["utils/iframeAPI"],function(e){(re=new e(window.parent,"*",scenappsm.getPlayer(0).getPlayer())).setName(window.name),w.iframeAPI=!0,on(scenappsmConst.COMPONENT_READY),re.onEvent(smIframeEvent.PLAY,function(){Lt()}),re.onEvent(smIframeEvent.PAUSE,function(){It()}),re.onEvent(smIframeEvent.STOP,function(){Tt()}),re.onEvent(smIframeEvent.SEEK,function(e){Rt(e)}),re.onEvent(smIframeEvent.USER_SEEK_CONTROL,function(e){u.userSeekControl(e)}),re.onEvent(smIframeEvent.CAPTION_CHANGE,function(e){Kt(e)}),re.onEvent(smIframeEvent.VIDEO_RATE,function(e){tn(e)}),re.onEvent(smIframeEvent.FULLSCREEN,function(e){(e&&!X||!e&&X)&&Jt()}),re.onEvent(smIframeEvent.FULLSCREEN_CLICK,function(e){ge="true"==e||1==e}),re.onEvent(smIframeEvent.VOLUME,function(e){null!=e.volume&&Ot(e.volume),null!=e.muted&&wt(e.muted)}),re.onEvent(smIframeEvent.CUE_POINT_UPDATE,function(e){S&&S.setLinks(e)}),re.onEvent(smIframeEvent.USER_WATERMARK,function(t){Oe(["ui/userWatermark"],function(e){le&&(le.destroy(),le=null),(le=new e(d)).setData(t),a.setUserWatermark(t),mt()})}),re.onEvent(smIframeEvent.RECOMMAND,function(t){Oe(["ui/recommand"],function(e){oe&&(oe.destroy(),oe=null),null==t.padding&&(t.padding="10px 20px "+Ge()+"px"),(oe=new e(d)).setData(t),oe.setSize(Fe(P,"width"),Fe(P,"height")),P.appendChild(oe.getContainer())})}),re.onEvent(smIframeEvent.QUALITY_CHANGE,function(e){Ut(e)}),re.onEvent(smIframeEvent.SEEK_ENABLE,function(e){null!=c&&c.enabled(e)})},Se),1==dt("header-display")?(w.header=!1,Oe(["ui/header"],function(e){(o=new e(d)).setLandingURL(a.getLogoLink()),T.appendChild(o.getContainer()),T.appendChild(P),w.header=!0,b=o.getHeight(),on(scenappsmConst.COMPONENT_READY)},Se)):T.appendChild(P),1==dt("video-title-set")&&(w.title=!1,Oe(["ui/title"],function(e){p=new e(d),P.appendChild(p.getContainer()),w.title=!0,on(scenappsmConst.COMPONENT_READY)},Se)),1==dt("watermark-display")&&(w.watermark=!1,Oe(["ui/watermark"],function(e){l=new e(d),P.appendChild(l.getContainer()),l.setLandingURL(a.getWatermarkLink()),w.watermark=!0,on(scenappsmConst.COMPONENT_READY)},Se)),w.poster=!1,Oe(["ui/poster"],function(e){R&&R.destroy(),R=null,(R=new e(d)).setSize(P.offsetWidth,P.offsetHeight),P.appendChild(R.getContainer()),w.poster=!0,on(scenappsmConst.COMPONENT_READY)},Se),0!=i.controlEnabled&&(w.controls=!1,Oe(["ui/controls"],function(e){1!=i.isWe&&(i.isFP=a.isFP()),(s=new e(d)).setController(u),T.appendChild(s.getContainer()),P.appendChild(s.getMobileContainer()),w.controls=!0,on(scenappsmConst.COMPONENT_READY)},Se),w.volume=!1,Oe(["ui/volume"],function(e){_volume=new e(d),_volume.setController(u),s.setVolumeIcon(_volume),w.volume=!0,on(scenappsmConst.COMPONENT_READY)},Se),w.seekBar=!1,Oe(["ui/seekBar"],function(e){(c=new e(d)).setController(u),s.getContainer().insertBefore(c.getContainer(),s.getContainer().childNodes[0]),w.seekBar=!0,on(scenappsmConst.COMPONENT_READY)},Se)),w.mainControls=!1,Oe(["ui/mainControls"],function(e){_mainControls&&_mainControls.destroy(),_mainControls=null,_mainControls=new e(d),_mainControls.setController(u),P.appendChild(_mainControls.getContainer()),w.mainControls=!0,on(scenappsmConst.COMPONENT_READY)},Se),1==i.builder||0==_t()&&1==a.isPlaylist()&&0==E.isMobile()?(w.playlist=!1,Oe(["ui/playlist"],function(e){O=new e(d),1==i.builder?(O.createDummy(),w.playlist=!0,on(scenappsmConst.COMPONENT_READY)):(O.setController(u),playlistReady=function(e){if(null!=e&&0<e.length)return I.removeChild(O.getContainer()),O.destroy(),O=null,scenappsmError.API_ERROR.message=e,on(scenappsmEvent.ERROR,scenappsmError.API_ERROR),void At();O.setRelatedlist(a.getRelatedList()),O.setPlaylist(a.getPlaylist()),w.playlist=!0,on(scenappsmConst.COMPONENT_READY)},Ke()?a.loadPlaylistInfo(Ke(),playlistReady):(w.playlist=!0,on(scenappsmConst.COMPONENT_READY))),O.onReady(function(){At()}),I.appendChild(O.getContainer())},Se)):1==E.isMobile()&&(T.style.left="0px"),m==E.HTML?(w.player=!1,Oe("m3u8"==ie||"m3u8-audio"==ie?Je()&&0==E.isMobile()?["player/dvrPlayer"]:0==E.isMobile()&&0==E.isSafari()?["player/hlsPlayer"]:["player/htmlPlayer"]:"mpd"==ie?["player/dashPlayer"]:["player/htmlPlayer"],function(e){(r=new e(d)).setDRate(i.source.dRate),r.hasOwnProperty("setPreload")&&r.setPreload(a.isPreload()),"mpd"==ie&&r.setProtectionData(i.source.gid,i.source.drmCid,i.hmac),P.appendChild(r.getVideo()),s&&!s.isPip()&&(r.getVideo().disablePictureInPicture=!0),1==E.isSafari()&&(scenappsm.addEventListener(r.getVideo(),"webkitendfullscreen",ct),scenappsm.addEventListener(r.getVideo(),"webkitbeginfullscreen",ct)),je()&&0==E.isMobile()&&(r.getVideo().style.visibility="hidden",w.vr=!1,Oe(["utils/virtualReality"],function(e){Ne=new e(d,r.getVideo()),P.appendChild(Ne.getContainer()),w.vr=!0,on(scenappsmConst.COMPONENT_READY)})),w.player=!0,on(scenappsmConst.COMPONENT_READY)},Se)):(w.player=!1,Oe(["player/flashPlayer"],function(e){(r=new e(d)).setup(i),P.appendChild(r.getPlayer()),w.player=!0,on(scenappsmConst.COMPONENT_READY)},Se))}function dt(e){var t,n=!1;return 1==i.builder&&(n=!0),"none"!=(t=Ue(e),e=document.createElement("div"),document.body.appendChild(e),e.className=t,(t=null)!=e.currentStyle?t=e.currentStyle.display:null!=getComputedStyle&&(t=getComputedStyle(e).display),document.body.removeChild(e),e=null,t)||n}function mt(){"mpd"==ie&&E.isIOS()&&_mainControls.setAppLink("https://play"+y+".wecandeo.com/drm/ios.php?key="+a.getIosData())}function Et(){a.isScreenEvent()&&r.getVideo().addEventListener(Xe()?scenappsm.eventDown:"click",ht)}function ht(e){Xe()&&!s.isShow()||(r.playing()?r.pause():r.play())}function ft(e){1==a.isKeyboard()&&0!=i.isKeyboard&&scenappsm.addEventListener(document,"keydown",Le),Q=a.getPlaybackRateList(),r.setViralLink(a.getViralLink()),Et(),Ne&&Ne.setViralLink(a.getViralLink()),i.playerType=xt(a.getPlayerType()),i.isDVR=Je(),i.keepQuality=0!=i.keepQuality;var t,n=gt();null!=n&&r.load(n),R&&R.setPoster({url:a.getSource().poster,alt:a.getSource().title}),p&&p.setInfo(i.source.title,i.source.desc),O&&(O.setRelatedlist(a.getRelatedList()),O.setPlaylist(a.getPlaylist())),mt(),function(){if(null!=Z){if(1==E.isMobile())return on(scenappsmEvent.CAPTION,Z.captionInfo);null!=G&&(G.destroy(),G=null),"None"==Z.errorInfo.errorCode&&"none"!=scenappsm._elements.getCssDisplay("subtitle-btn")&&Oe(["utils/caption"],function(e){G=new e(d),0!=i.isCaption&&0!=a.isCaptionDisable()||G.setCurrnetCaption(0),G.setCaptionData(Z.captionInfo),P.appendChild(G.getContainer())})}}(),t=a.getCuePoint(),1!=i.builder&&null!=t&&0!=t.length?null==S?Oe(["utils/cuePoint"],function(e){(S=new e(d)).setCuePoint(t)},function(){}):S.setCuePoint(t):null!=S&&S.destroy(),B&&B.setData(a.getShare()),c&&(c.setThumbnailSheet(a.getThumbnailSheetURL()),c.setChapter(a.getContent())),a.isStartVolume()?Ot(a.getStartVolume()):(Ot("string"==typeof(n=tt(scenappsmConst.VOLUME))?parseInt(n):50),wt("true"==tt(scenappsmConst.MUTED))),null!=a.getStartTime()&&0==i.startTime&&(i.startTime=a.getStartTime()),null!=a.getAutoPlay()&&null==i.autoPlay&&(i.autoPlay=a.getAutoPlay()),null!=a.getSeekEnabled()&&null==i.isSeek&&(i.isSeek=a.getSeekEnabled()),R&&R.setAutoPlay(i.autoPlay),_mainControls&&_mainControls.setAutoPlay(i.autoPlay),l&&l.setAutoPlay(i.autoPlay),D=!0,on(e,i),function(e){if(null!=e){if(null!=e.VIDMIX)return!(1==E.isIOS()&&E.getBrowserVersion()<10);if(null!=e.PLAYER){if(null!=e.PLAYER.preRoll||null!=e.PLAYER.overlay||null!=e.PLAYER.postRoll)return 1}else if(null!=e.frontAdUrl||null!=e.postAdUrl)return 1}}(i.source.adInfo)?Oe(["ad/adManager"],function(e){(ae=0==He().isReady()?new e(d):ae).setup(i.source.adInfo),1==He().isReady()?(yt(),At()):ae.onReady(function(){yt(),At()})},function(){yt(),At()}):(yt(),At())}function yt(){0!=i.isCaption&&0!=a.isCaptionDisable()||Kt(0),0==isNaN(parseInt(i.volume))&&Ot(parseInt(i.volume)),0==isNaN(parseInt(i.adVolume))&&He().setVolume(parseInt(i.adVolume)),0==i.isSeek&&null!=c&&c.enabled(i.isSeek),O&&(1==i.plAutoPlay&&O.setAutoPlay(!0),1==i.plLoop&&O.setPlaylistLoop(!0),i.builder||0!=i.isPlaylist||(O.getContainer().style.display="none")),0==isNaN(parseInt(i.startTime))&&0!=parseInt(i.startTime)&&r.startTime(i.startTime),E.isMobile()&&"muted"===i.mType&&Ot(0),1==i.autoPlay&&(null!=r.setAutoPlay&&r.setAutoPlay(i.autoPlay),Lt()),null!=s&&("none"==i.captionBtnDisplay&&s.captionBtnVisible("none"),"none"==i.shareBtnDisplay&&s.shareBtnVisible("none"),"none"==i.qualityBtnDisplay&&s.qualityBtnVisible("none"),"none"==i.fullBtnDisplay&&s.fullscreenBtnVisible("none")),null!=a.getGaCode()&&""!=a.getGaCode()&&function(e,t,n,s){function i(){e[n].push(arguments)}e[n]=e[n]||[],i("js",new Date),i("config",s);var a=t.getElementsByTagName("script")[0];(t=t.createElement("script")).async=!0,t.src="https://www.googletagmanager.com/gtag/js?id="+s,a.parentNode.insertBefore(t,a)}(window,document,"dataLayer",a.getGaCode())}function gt(){var e;if(i.hasOwnProperty("source")){var t=null;Array===i.source.constructor?(t=i.source,Z=null):"object"==typeof i.source&&(t=i.source.quality,Z=i.source.caption);var n=JSON.parse(tt(scenappsmConst.QUALITY));if(i.keepQuality&&n)try{null==(e=vt(t,n,"label"))?(n.index>=t.length&&(n.index=t.length-1),e=t[n.index]):n.index=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return null}(t,e),"Auto"==t[n.index].label&&"Auto"!=n.label&&(n.index=1),Ct(n.index,e.label)}catch(e){}else e=vt(t,!0,"default");null==e&&Ct(0,(e=t[0]).label),on(scenappsmEvent.QUALITY,t),on(scenappsmEvent.VIDEO_LOAD,{source:e})}return e}function vt(e,t,n){for(var s=0;s<e.length;s++){if("boolean"==typeof t&&e[s][n]==t)return e[s];if("object"==typeof t&&e[s][n]==t[n])return e[s]}return null}function Ct(e,t){0!=i.keepQuality?(q=e,et(scenappsmConst.QUALITY,JSON.stringify({index:e,label:t}))):et(scenappsmConst.QUALITY,null)}function _t(){return"live"==Qe()}function At(){null!=I&&(0!=Fe(I,"width")?(O&&"none"!=scenappsm._elements.getStyle(O.getContainer()).display?(_playerWidth=Fe(I,"width")-Fe(O.getContainer(),"width"),_playerHeight=Fe(I,"height")-Fe(O.getContainer(),"height"),T.style.width=0!=_playerWidth?_playerWidth+"px":"",T.style.height=0!=_playerHeight?_playerHeight+"px":"",T.style.top="",T.style.left="",X&&(0==O.getContainer().offsetTop&&0==T.offsetTop?T.style.width=screen.width-Fe(O.getContainer(),"width")+"px":T.style.height=screen.height-Fe(O.getContainer(),"height")+"px")):(T.style.width="100%",T.style.height="100%",T.style.top=0,T.style.left=0),null!=o&&(b=o.getHeight(),P.style.height=Fe(T,"height")-b+"px"),null!=p&&(s&&s.setMobilePosition(Fe(p.getContainer(),"height")),he&&he.setTop(Fe(p.getContainer(),"height"))),null!=l&&(s&&s.setMobilePosition(Fe(l.getContainer(),"height")),he&&he.setTop(Fe(l.getContainer(),"height"))),R&&(P?R.setSize(Fe(P,"width"),Fe(P,"height")):R.setSize(Fe(T,"width"),Fe(T,"height"))),Ne&&Ne.setSize(Fe(P,"width"),Fe(P,"height"))):setTimeout(function(){At()},100))}function Lt(){if(D&&1!=He().isAFV())if(k)He().isOverlay()&&He().overlay(),r.play(),Re({type:scenappsmEvent.MOUSE_OUT});else{if("mpd"==ie){if(1==E.isIOS())return;if(0==r.isAuthorization())return Be(scenappsmAlert.AUTHENTICATING)}k=!0,Re({type:scenappsmEvent.MOUSE_OUT}),r.init(He().isPreRoll()),He().isPreRoll()?He().preRoll():(r.play(),He().isOverlay()&&He().overlay())}}function It(){1!=He().isAFV()&&r.pause()}function Tt(){r.stop()}function Pt(){return r.playing()}function Rt(e){_t()&&!Je()||(0!=i.isSeek?(isNaN(kt())||(e=Math.min(kt()-1,Math.max(e,.1))),r.setPosition(e)):Be(scenappsmAlert.AVAILABLE_NOT_SEEK))}function bt(){return r.getPosition()}function Ot(e,t){r.getVolume()!=e&&(wt(0==(e=Math.min(100,Math.max(e,0))),t),r.setVolume(e),""==i.adVolume&&He().setVolume(e),t&&et(scenappsmConst.VOLUME,e))}function St(){return r.getVolume()}function wt(e,t){r.setMuted(e),t&&et(scenappsmConst.MUTED,e)}function Dt(){return r.getMuted()}function kt(){return r.getDuration()}function Mt(){u.excute(scenappsmPlayerCommand.SEEK,bt()+$e())}function Nt(){u.excute(scenappsmPlayerCommand.SEEK,bt()-$e())}function xt(e){return 0<=e.indexOf("A")?scenappsmPlayerType.A_TYPE:0<=e.indexOf("B")?scenappsmPlayerType.B_TYPE:void 0}function Vt(e){null==i.source||i.source.quality.length<e||(r.setQuality({switching:!0,index:e,source:i.source.quality[e],isLive:_t()}),Ct(e,i.source.quality[e].label))}function Ut(e){u.excute(scenappsmPlayerCommand.QUALITY_SWITCH,e)}function Yt(){return{index:parseInt(Ft()),quality:ze().quality[Ft()]}}function Ft(){return null!=q?q:Ht(i.source.quality)}function Ht(e){for(var t in e)if(1==e[t].default)return t}function Bt(){return i.source.quality}function Kt(e){null!=G?G.setCurrnetCaption(e):on(scenappsmEvent.CAPTION_CHANGE,e)}function qt(){return null!=Z?Z.captionInfo:null}function Wt(){return O?O.getPlaylist():null}function Qt(){return r.getVideo()}function zt(){return r.getState()}function Gt(e){m=e}function Zt(){return null==n?0:Fe(n,"height")}function Xt(){return null==n?0:Fe(n,"width")}function jt(e,t){e==scenappsmEvent.ALL_COMPLETE&&(e=scenappsmEvent.VIDEO_COMPLETE),"function"==typeof t?J[e]=t:J[e]&&J[e](t)}function Jt(){var e,t;ge?on(scenappsmEvent.FULLSCREEN_CLICK):0!=E.isFullscreen()?((e=I).msRequestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.webkitEnterFullscreen||e.requestFullscreen||e.requestFullScreen||(e=r.getPlayer()),r.oneSkipPlayCheck&&r.oneSkipPlayCheck(),t=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen||null!=document.msFullscreenElement||e.webkitDisplayingFullscreen,I.style.cursor=t?"":"none",t?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():e.webkitExitFullscreen&&e.webkitExitFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():e.requestFullscreen?e.requestFullscreen():e.requestFullScreen&&e.requestFullScreen()):Be(scenappsmAlert.AVAILABLE_NOT_FULLSCREEN)}function $t(e){we.setError(e)}function en(e){tn(e=Q[e].label.replace("X",""))}function tn(e){for(var t in Q)if(Q[t].label.replace("X","")==e){r.setPlaybackRate(e);break}}function nn(e){var t,n=2;for(t in Q)if(Q[t].label.replace("X","")==e){n=parseInt(t);break}return n}function sn(){return r.getPlaybackRate()}function an(){null==B?Oe(["ui/share"],function(e){(B=new e(d)).setData(a.getShare()),T.insertBefore(B.getContainer(),s.getContainer()),B.focus(pe)}):1==B.isShow()?(B.hide(),de&&(de.focus(),pe||de.blur())):(B.show(),B.focus(pe))}function rn(e){ce&&ce==e?ce.isShow()?(ce.hide(),ce=null):ce.show():(ce&&ce.hide(),(ce=e).show()),ce&&ce.isShow()&&ce.focus(pe),ue=!0}this.getAcsServer=function(){return g},this.getSkipForwardTime=$e,this.getController=function(){return u},this.isMobile=Xe,this.getApiInitData=function(){return{width:Xt(),height:Zt(),fullscreen:X,position:bt(),duration:kt(),volume:St(),muted:Dt(),qualityLevels:Bt(),captionList:qt(),playlist:Wt(),state:zt(),name:window.name,videoRate:sn(),lastPlaytime:0}},this.getLocalPath=Ze,this.getInfoPanel=function(){return p&&1==p.isEnable()?p:null},this.getControls=function(){return s},this.getControlsHeight=Ge,this.getAdContainer=function(){return null!=e||((e=document.createElement("div")).style.display="none",e.style.position="absolute",e.style.left="0px",e.style.bottom="0px",e.style.zIndex=10,e.style.width="100%",e.style.height="100%",e.id="smAdContainer",P.appendChild(e)),e},this.getVideoContainer=function(){return P},this.getUserAgent=function(){return E},this.getCorrectSize=Fe,this.getCssReform=Ue,this.getParams=function(){return i},this.getPACK=Qe,this.getPlaylistKey=We,this.getPlayerKey=qe,this.getKey=Ke,this.getImgServer=function(){return _},this.getApiServer=function(){return v},this.getPlayServer=function(){return C},this.setAlertMessage=Be,this.isTest=function(){return y},this.setCookie=et,this.getCookie=tt,this.isVisibility=function(){return me},this.controlsSeek=function(e){on(scenappsmEvent.CONTROLS_SEEK,e)},this.backward=Nt,this.forward=Mt,this.getDuration=kt,this.getMuted=Dt,this.setMuted=wt,this.getVolume=St,this.setVolume=Ot,this.getPosition=bt,this.seek=Rt,this.playing=Pt,this.stop=Tt,this.pause=It,this.play=Lt,this.load=function(e,t){at(e)},this.setup=function(e){_playerID=(i=e).playerID,m=e.primary,"string"==typeof i.css&&(F=i.css),U=U.replace("{PACK}",Qe()),A=A.replace("{VERSION}",i.version),L=L.replace("{VERSION}",i.version),"local"==i.version&&(A="./source/player/src",L="./source/libs"),i.isStatistics=0!=i.isStatistics,t=e.width,h=e.height,ke=!("string"==typeof t&&0<=t.indexOf("%")),y=1==i.isTest?".test":"",g=g.replace("{TEST}",y),v=v.replace("{TEST}",y),C=C.replace("{TEST}",y),_=_.replace("{TEST}",y),A=A.replace("{TEST}",y),L=L.replace("{TEST}",y),""!=i.cacheDomain&&null!=i.cacheDomain&&(v=v.replace(/([a-zA-Z0-9-_]+\.)*[a-zA-Z0-9][a-zA-Z0-9-_]+\.[a-zA-Z]{2,11}/,i.cacheDomain),C=C.replace(/([a-zA-Z0-9-_]+\.)*[a-zA-Z0-9][a-zA-Z0-9-_]+\.[a-zA-Z]{2,11}/,i.cacheDomain),_=_.replace(/([a-zA-Z0-9-_]+\.)*[a-zA-Z0-9][a-zA-Z0-9-_]+\.[a-zA-Z]{2,11}/,i.cacheDomain),U=(U="/resources/new_default_{PACK}_0_0.css").replace("{PACK}",Qe()),V="/resources"),"function"!=typeof require?((Me=document.createElement("script")).src=L+"/require.js",Me.onload=Me.onreadystatechange=function(){"loaded"!=this.readyState&&"complete"!=this.readyState&&null!=this.readyState||null!=Me&&(require.config({baseUrl:A,paths:{libs:"local"==i.version?"../../libs":"../../../libs",utils:"local"==i.version?"../../utils":"../../../utils",vidmixSDK:location.protocol+"//sdk"+y.replace(".","")+".vidmix.tv/sdk/js/v2/vidmix",bootstrap:_+"/player/default/new_player/css/bootstrap_3.3.2.css",notice:"local"==i.version?"./notice/"+ve:A+"/notice/"+ve,statistics:_+"/player/utils/"+Qe()+"Statistics",commonCss:""!=i.cacheDomain&&null!=i.cacheDomain?"../../../../player/default/new_player/css/common.css":_+"/player/default/new_player/css/common.css"},urlArgs:null!=i.udate?"udate="+i.udate:""}),nt(),Me.onload=null,Me.onerror=null,Me.onreadystatechange=null,Me=null)},Me.onerror=function(){scenappsm.temporaryErrorAlert(temporaryErrorMessage[ve])},document.getElementsByTagName("head")[0].appendChild(Me)):nt()},this.inLive=function(e){Rt(e)},this.getCaption=function(e){return qt()?{label:qt()[e].label,index:e}:null},this.isWatermark=function(){return null!=l},this.setPlayerType=function(e){on(scenappsmEvent.PLAYER_TYPE,{playerType:xt(e)})},this.getFullscreen=function(){return X},this.getPlaylist=Wt,this.getPlaylistItem=function(e){return O?O.getPlaylistItem(e):null},this.getPlaylistIndex=function(){return O?O.getPlaylistIndex():null},this.setPlaylistIndex=function(e){O&&O.setPlaylistIndex(e)},this.getCaptionList=qt,this.getCurrentCaption=function(){return null!=G?G.getCurrentCaption():null},this.setCurrentCaption=function(e){u.excute(scenappsmPlayerCommand.CAPTION_CHANGE,e)},this.getQualityLevels=Bt,this.getCurrentQuality=Yt,this.setQuality=Vt,this.setCurrentQuality=Ut,this.setQuality=Vt,this.setCaption=Kt,this.setRelatedListIndex=function(e){rt(e.playlistKey),on(scenappsmEvent.RELATED_ITEM,e)},this.getHeight=Zt,this.getWidth=Xt,this.remove=function(){for(;I.firstChild;)I.removeChild(I.firstChild);for(;n.firstChild;)n.innerHTML="";scenappsm.removeEventListener(document,"keydown",Le),scenappsm.removeEventListener(document,"keypress",Le),scenappsm.removeEventListener(document,"keyup",Le),scenappsm.removePlayer(_playerID),on(scenappsmEvent.REMOVE)},this.getPrimary=function(){return m},this.getState=zt,this.resize=function(e,t){null!=n&&(n.style.width=Ye(e),n.style.height=Ye(t),At(),on(scenappsmEvent.RESIZE,{width:Xt(),height:Zt(),playerWidth:T?Fe(T,"width"):0,playerHeight:T?Fe(T,"height"):0,videoWidth:P?Fe(P,"width"):0,videoHeight:P?Fe(P,"height"):0}))},this.getPlayer=function(){return r},this.getVideo=Qt,this.onEvent=jt,this.setWatermarkLink=function(e){l&&l.setLandingURL(e)},this.setLogoLink=function(e){o&&o.setLandingURL(e)},this.seekDisable=function(e){i.isSeek=e,c&&c.enable(e)},this.setPlaybackRateByIndex=en,this.freePlan=function(){var t=this;null!=ce&&(ce.hide(),ce=null),null==he?Oe(["ui/freeplan"],function(e){he=new e(t),P.appendChild(he.getContainer()),he.focus(pe),he.setBottom(s.getHeight()),At()}):(he.isShow()?he.hide():(he.show(),he.focus(pe)),fe=!0)},this.pictureInPicture=function(){Qt().requestPictureInPicture?Qt().requestPictureInPicture():Be(scenappsmAlert.AVAILABLE_NOT_PIP)},this.getPlaybackRate=sn,this.setPlaybackRate=tn,this.share=an,this.quality=function(){var t;null==i.source||i.source.quality.length<=1||(t=this,null==K?Oe(["ui/selector"],function(e){(K=new e(t)).setController(u,scenappsmPlayerCommand.QUALITY_SWITCH),K.setData({title:"Video Quality",list:ze().quality,bottom:Ge(),playerWidth:Fe(T,"width"),playerHeight:Fe(T,"height"),className:" quality"}),K.setCurrentIndex(q),T.insertBefore(K.getContainer(),s.getContainer()),(ce=K).focus(pe)}):rn(K))},this.playbackRate=function(){if(!Pt()&&"Windows"==E.getPlatformType()&&E.getWindowsVersion()<=8&&E.getBrowserName()==E.IE)return Be(scenappsmAlert.PLAYBACKRATE_BLOCK);null==W?Oe(["ui/selector"],function(e){(W=new e(d)).setController(u,scenappsmPlayerCommand.PLAYBACK_RATE_SWITCH),W.setData({title:"Video Speed",list:function(){for(var e=0;e<Q.length;e++)Number(Q[e].label.replace("X",""))==r.getPlaybackRate()?Q[e].default=!0:Q[e].default=!1;return Q}(),bottom:Ge(),playerWidth:Fe(T,"width"),playerHeight:Fe(T,"height"),className:" speed"}),T.insertBefore(W.getContainer(),s.getContainer()),(ce=W).focus(pe)}):rn(W)},this.captionSelect=function(){var t=this;"None"==Z.errorInfo.errorCode?null==z?Oe(["ui/selector"],function(e){(z=new e(t)).setController(u,scenappsmPlayerCommand.CAPTION_CHANGE),z.setData({title:"Caption",list:Z.captionInfo,bottom:Ge(),playerWidth:Fe(T,"width"),playerHeight:Fe(T,"height"),className:" quality"}),T.insertBefore(z.getContainer(),s.getContainer()),(ce=z).focus(pe),G&&ce.setCurrentIndex(G.getCurrentIndex()),0!=i.isCaption&&0!=a.isCaptionDisable()||Kt(0)}):rn(z):Be({message:Z.errorInfo.errorMessage})},this.setFullscreen=Jt,this.loadPlaylistItem=function(e){on(scenappsmEvent.PLAYLIST_ITEM,e),Tt(),i.autoPlay=!0,q=null,at(e.data.key,scenappsmEvent.PLAYLIST_ITEM)};var ln=[];function on(e,t){switch(H&&(1==i.loop&&e==scenappsmEvent.ALL_COMPLETE||H.notifyObserver(e,t)),e){case scenappsmEvent.MOUSE_OUT:At();break;case scenappsmEvent.PLAYER_READY:ft(scenappsmEvent.VIDEO_READY);case scenappsmEvent.PLAYLIST_READY:At(),e==scenappsmEvent.PLAYER_READY&&on(scenappsmEvent.RESIZE,{width:Xt(),height:Zt(),playerWidth:T?Fe(T,"width"):0,playerHeight:T?Fe(T,"height"):0,videoWidth:P?Fe(P,"width"):0,videoHeight:P?Fe(P,"height"):0});break;case scenappsmEvent.ERROR:un(e),cn(),I&&(I.style.display="");break;case scenappsmConst.COMPONENT_READY:for(var n in w)if(0==w[n])return;return I.style.display="","flash"!=m&&on(scenappsmEvent.PLAYER_READY),null!=o&&(b=o.getHeight()),void At();case scenappsmEvent.RESIZE:At(),He().resize(t);break;case scenappsmEvent.VIDEO_FULLSCREEN:0!=b&&(P.style.height=t?screen.height-b+"px":T.offsetHeight-b+"px"),At();break;case scenappsmEvent.VIDEO_READY:_cover.style.opacity="",At(),un("ready");break;case scenappsmEvent.VIDEO_PLAY:if(k=k||!0,"none"==_cover.style.display&&(_cover.style.display=""),null==_e&&(_e=setInterval(Ae,100)),"mpd"==ie&&1==x)return It();un(zt());break;case scenappsmEvent.VIDEO_COMPLETE:if(0==j)return j=!0,He().isPostRoll()?void He().postRoll():on(scenappsmEvent.ALL_COMPLETE);case scenappsmEvent.VIDEO_STOP:case scenappsmEvent.ALL_COMPLETE:if(cn(),1==i.loop&&e==scenappsmEvent.ALL_COMPLETE)return Lt();un(scenappsmEvent.VIDEO_COMPLETE);break;case scenappsmEvent.VIDEO_PAUSE:clearInterval(_e),_e=null,un(zt()),He().isPause()&&0==x&&He().pause(),x=!1;break;case scenappsmEvent.VIDEO_SEEK:if(1==t.seeking)return;break;case scenappsmAdEvent.AD_MIDROLL_READY:N=!0;break;case scenappsmAdEvent.AD_LOAD:I.style.cursor="",k&&t.position!=He().OVERLAY&&r.getState()==scenappsmPlayerState.PLAYING&&r.pause(),t.position!=He().OVERLAY&&(r.removeEventListener(),Et()),N=!(M=!0);break;case scenappsmAdEvent.AD_CLICK:case scenappsmAdEvent.AD_COMPLETE:case scenappsmAdEvent.AD_SKIP:case scenappsmAdEvent.AD_CLOSE:case scenappsmAdEvent.AD_ERROR:1==j?(on(scenappsmEvent.ALL_COMPLETE),r.addEventListener(),Et()):k&&t.position!=He().OVERLAY?(Et(),r.addEventListener(),r.play(),e==scenappsmAdEvent.AD_CLICK?("preroll"!=t.position&&"midroll"!=t.position||(x=!0),It()):He().isOverlay()&&He().overlay(),e!=scenappsmAdEvent.AD_CLICK&&"midroll"==t.position&&Rt(bt()-10)):e==scenappsmAdEvent.AD_CLICK&&It(),M=!1;break;case scenappsmEvent.PLAYLIST_ITEM:break;case scenappsmEvent.STREAM_QUALITY_CHANGE:case scenappsmEvent.QUALITY_CHANGE:q=t.index,t=Yt();break;case scenappsmEvent.STREAM_QUALITY:ze().quality=t;break;case scenappsmEvent.LIVE_PlAYLIST_NOT_UPDATED:a.loadInfo(Ke(),function(e){null!=e&&0<e.length?"방송 시간이 아닙니다."==e||"It's not Broadcast time."==e?(ot(e),on(scenappsmEvent.ERROR)):(scenappsmError.API_ERROR.message=e,on(scenappsmEvent.ERROR,scenappsmError.API_ERROR)):on(scenappsmEvent.ERROR,scenappsmError.NETWORK_ERROR)},"pStatus=check");break;case scenappsmEvent.VIDEO_TIME:var s;t.type==scenappsmConst.CURRENT_TIME&&r.playing()&&(s=parseInt(t.value),ye<s&&(ye=s,on(scenappsmEvent.VIDEO_LAST_PLAY_TIME,ye)))}jt(e,t)}function cn(){I.style.cursor="",ne="",k=j=!1,He().destroy(),clearInterval(_e),(_e=null)!=B&&B.hide(),null!=K&&K.destroy(),null!=W&&W.destroy(),null!=z&&z.destroy(),ce=z=W=K=null}function un(e){ne!=e&&""!=i.ecbURL&&null!=i.ecbURL&&(ne=e,$.post(scenappsm.addQuery(i.ecbURL)+"playStatus="+e),""!=i.ecbInterval&&(e==scenappsmPlayerState.PLAYING?null==te&&(te=setInterval(function(){$.post(scenappsm.addQuery(i.ecbURL)+"thisPos="+parseInt(r.getPosition()))},1e3*i.ecbInterval)):(clearInterval(te),te=null)))}this.registerObserver=function(e){null!=H?(function(){if(!(ln.length<=0)){for(var e in ln)H.registerObserver(ln[e]);ln=[]}}(),H.registerObserver(e)):ln[ln.length]=e},this.removeObserver=function(e){null!=H&&H.removeObserver(e)},this.notifyObserver=on};