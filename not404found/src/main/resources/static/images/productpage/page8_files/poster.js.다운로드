define(function(){return smPoster=function(e){var n=e;n.registerObserver(this);var t=null,a=null,i=0,p=0,l=0,r=0,c=!1,o=!1,m=!1;function d(){var e,s;0!=l&&null!=l&&(e=i/l,s=p/r,s=Math.min(e,s),a.style.width=l*s+"px",a.style.height=r*s+"px","none"!=a.style.display||m||(a.style.display=""),a.style.top=parseInt(.5*(p-n.getCorrectSize(a,"height")))+"px",a.style.left=parseInt(.5*(i-n.getCorrectSize(a,"width")))+"px")}(t=scenappsm._elements.createElement("div",n.getCssReform("video-poster"))).style.backgroundColor="#000",(a=scenappsm._elements.createElement("img","","posterImg")).style.position="absolute",a.style.display="none",t.appendChild(a),this.setAutoPlay=function(e){m=e},this.destroy=function(){if(n.removeObserver(this),t){for(;t.firstChild;)t.removeChild(t.firstChild);t.parentNode.removeChild(t)}n=t=null},this.getContainer=function(){return t},this.setPoster=function(e){var s,t;""!=e.url&&(s=e.url,t=scenappsm._elements.createElement("img","",""),loadComplete=function(e){l=t.width,r=t.height,d(),scenappsm.removeEventListener(this,"load",loadComplete),t=null},scenappsm.addEventListener(t,"load",loadComplete),t.src=s,a.src=e.url+"?udate="+n.getParams().udate,a.alt=e.alt+ScenappsmAccessbility.main_poster)},this.setSize=function(e,s){i=e,p=s,d()},this.update=function(e,s){switch(e){case scenappsmEvent.VIDEO_STOP:a.style.display="";case scenappsmEvent.ALL_COMPLETE:case scenappsmEvent.VIDEO_COMPLETE:if(1==c)return;t.style.display="block",d(),o=!1;break;case scenappsmAdEvent.AD_PLAY:t.style.display="none";case scenappsmEvent.VIDEO_PLAY:c=!(o=!0);break;case scenappsmAdEvent.AD_ERROR:case scenappsmAdEvent.AD_SKIP:case scenappsmAdEvent.AD_COMPLETE:(o&&"block"==t.style.display||""==t.style.display)&&(t.style.display="none");break;case scenappsmEvent.VIDEO_READY:case scenappsmEvent.VIDEO_FULLSCREEN:case scenappsmEvent.RESIZE:d();break;case scenappsmEvent.PLAYLIST_ITEM:c=!0;break;case scenappsmEvent.VIDEO_TIME:if(!o)return;s.type==scenappsmConst.CURRENT_TIME&&0!=s.value&&(m=!1,t.style.display="none")}},this.getWidth=function(){return i},this.getHeight=function(){return p}},smPoster});