define(function(){return smShare=function(e){var s,i=e,a="",c=[],t=!0,n=null;(n=scenappsm._elements.createElement("div",i.getCssReform("layer-overlay  settings-option share"))).setAttribute("role","dialog"),n.style.zIndex=205;var o=scenappsm._elements.createSecondDepthElement("div",i.getCssReform("layer-close"),"button",i.getCssReform("icon icon-close"));n.appendChild(o);var r=scenappsm._elements.getFirstElementsByTagName(o,"button");function l(){0<=this.className.indexOf("facebook")?window.open("https://www.facebook.com/sharer/sharer.php?u="+a):0<=this.className.indexOf("twitter")?window.open("https://twitter.com/share?url="+a+"&text="+document.title+"&via="):0<=this.className.indexOf("google")&&window.open("https://plus.google.com/share?url="+a+"&text="+document.title+"&via=")}r.ariaLabel=ScenappsmAccessbility.share_close,o.addEventListener("click",function(){u()}),e=scenappsm._elements.createElement("div",i.getCssReform("option-items")),n.appendChild(e),o=scenappsm._elements.createElement("ul",i.getCssReform("option-list")),e.appendChild(o);var p=scenappsm._elements.createSecondDepthElement("li",i.getCssReform("facebook"),"span",i.getCssReform("player-sprite share-img icon-fb"));p.tabIndex=0,p.ariaLabel=ScenappsmAccessbility.facebook,p.addEventListener("click",l),p.addEventListener("keydown",h);var d=scenappsm._elements.createSecondDepthElement("li",i.getCssReform("twitter"),"span",i.getCssReform("player-sprite share-img icon-tw"));d.tabIndex=0,d.ariaLabel=ScenappsmAccessbility.twitter,d.addEventListener("click",l),d.addEventListener("keydown",h),o.appendChild(p),o.appendChild(d);var m=scenappsm._elements.createElement("div",i.getCssReform("option-list-input"));function h(e){switch(e.keyCode){case 13:case 32:e.target.click()}}function u(){t=!1,n.style.display="none",function(){for(var e=0;e<c.length;e++)c[e].reset()}()}e.appendChild(m),this.focus=function(e){r.focus(),e||r.blur()},this.setData=function(e){s=e.list,a=e.url,function(){if(null!=c){for(var e=0;e<c.length;e++)m.removeChild(c[e].getContainer()),c[e].destroy();c=[]}}();for(var t=0;t<s.length;t++){var n=new copyElement(i,s[t].title,s[t].code);c[t]=n,m.appendChild(n.getContainer())}},this.getContainer=function(){return n},this.isShow=function(){return t},this.show=function(){n.style.display="block",t=!0},this.hide=u,this.destroy=function(){scenappsm.removeEventListener(p,"click",l),scenappsm.removeEventListener(d,"click",l)}},copyElement=function(e,t,n){var s=e,i=n,a=scenappsm._elements.createElement("div"),c=scenappsm._elements.createElement("span",e.getCssReform("label"));c.innerHTML=t,a.appendChild(c);var o=scenappsm._elements.createElement("input",e.getCssReform("player_input_style input-box"));o.style.display="absolute",o.style.left="-100%",o.contentEditable=!0,o.readOnly=!0,o.value=n;var r=scenappsm._elements.createElement("input",e.getCssReform("player_input_style input-box"));function l(e){switch(e.type){case"select":break;case"touchstart":case"touchend":select(),console.log(window.getSelection().toString())}}function p(){try{var e,t;a.appendChild(o),1==s.getUserAgent().isIOS()?((e=document.createRange()).selectNodeContents(o),(t=window.getSelection()).removeAllRanges(),t.addRange(e),o.setSelectionRange(0,999999)):(o.focus(),o.select()),document.execCommand("copy");try{o.blur()}catch(e){}a.removeChild(o),s.setAlertMessage(scenappsmAlert.COPIED,!1)}catch(e){try{o.blur()}catch(e){}s.setAlertMessage(scenappsmAlert.COPY_FAIL,!0)}}r.readOnly=!0,r.value=n,r.tabIndex=-1,a.appendChild(r),r.addEventListener("click",l),r.addEventListener("touchend",l),r.addEventListener("select",l),copyBtn=scenappsm._elements.createElement("button",e.getCssReform("player_btn_style btn_share")),copyBtn.innerHTML="Copy",a.appendChild(copyBtn),copyBtn.addEventListener("click",p),copyBtn.ariaLabel=ScenappsmAccessbility["copy_"+t.toLowerCase()],this.getContainer=function(){return a},this.reset=function(){r.value=i},this.destroy=function(){for(;a.firstChild;)a.removeChild(a.firstChild);r.removeEventListener("touchend",l),r.removeEventListener("select",l),r.removeEventListener("click",l),copyBtn.removeEventListener("click",p),delete r,s=null}},smShare});